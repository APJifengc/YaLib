            Constructor c;
            PluginCommand cmd;
            //声明Constructor和指令cmd
            try {
                c = PluginCommand.class.getDeclaredConstructor(String.class, Plugin.class);
                //强行获取类中的字段，包括非public字段
                YaPatchPlus plugin = this;
                //主类的实例，Demo是插件的名字，如何获取主类实例不作讲解
                c.setAccessible(true);
                String name = "demo";
                //指令名，这里是/demo
                String description = "这是一个演示命令";
                //指令介绍
                String usageMessage = "输入/demo";
                //指令用法
                //List aliases = new ArrayList();
                ArrayList<String> aliases = new ArrayList<>();
                aliases.add("demonstration");
                //指令别名（列表）
                cmd = (PluginCommand) c.newInstance(name, plugin);
                /* 运用集合的构造方法
                 * 构造器并没有写明需要多少个Object
                 * PluginCommand cmd = c.newInstance(new Object[]{name, plugin});
                 * initialize
                 */
                cmd.setAliases(aliases);
                //设置别名
                cmd.setDescription(description);
                //设置介绍
                cmd.setUsage(usageMessage);
                //设置用法
                cmd.setPermission(null);
                //设置权限，权限不作讲解
                cmd.setTabCompleter(null);
                //设置tab补全的处理器（这个和使用plugin.yml添加指令一样，不作讲解）
                cmd.setExecutor(null);
                //设置命令的处理类（这个和使用plugin.yml添加指令一样，不作讲解）
                try {
                    Field f = SimplePluginManager.class.getDeclaredField("commandMap");
                    //强行获取类中的全部字段，包括非public字段
                    //org.bukkit.plugin.SimplePluginManager
                    f.setAccessible(true);
                    CommandMap map = (CommandMap) f.get(this.getServer().getPluginManager());
                    //利用映射获取CommandMap
                    map.register(name, cmd);
                    //注册指令
                } catch (Exception e) {
                    e.printStackTrace();
                }
            } catch (Exception e) {
                e.printStackTrace();
            }